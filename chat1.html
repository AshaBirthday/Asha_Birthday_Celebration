<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="/CSS/contstyle.css">
    <link rel="stylesheet" href="/CSS/logo.css"> 

    <title>CHAT/CONTACT</title>


    
    <!------------Voice Chat----------->
    <script src="https://code.responsivevoice.org/responsivevoice.js?key=omCInoCt"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <!---Voice Chat CSS-->
    <style type="text/css">
       :root{
           --div-height: 80vh;
           --bg-size: 50% 100%;
        
       }
       .bottom_first_div{
          height: calc(var(--div-height) - 0vh);
          border-radius: 20px;
      }
      .audio_chatbot #show{
    padding: 15px;

}

    button{
    margin: 15px;
    background-color: indigo;
    color: white;
    border-radius: 4px;
    text-shadow: tomato;
}
button:hover{
    color: white;
    background-color: green;
}
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#"><img src="/Images/img/logo.gif" style="width:40px; height:32px;" class="img-fluid" alt=""></a>
            <a class="navbar-brand" href="#">
                <div class="text-blinking">
                    <h1>
                        <span>B</span>
                        <span>i</span>
                        <span>r</span>
                        <span>t</span>
                        <span>h</span>
                        <span>d</span>
                        <span>a</span>
                        <span>y</span>
                    </h1>
                </div>
            </a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
                <ul class="navbar-nav ">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                       <a class="nav-link" href="/about.html">About Us</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/chat.html">Chat</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/gallery.html">Gallery</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/card.html">Card</a>
                    </li>
                    <li class="nav-item">
                       <a class="nav-link" href="/videogallery.html">Video</a>
                    </li>
                    <!--...........................Search Bar..................-->
                        <!--<div class="container-fluid">
                          <form class="d-flex">
                            <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                            <button class="btn btn-outline-success" type="submit">Search</button>
                          </form>
                        </div>-->
                      
                </ul>
            </div>
        </div>
    </nav>   

   <div class="container-fluid mt-4 mb-5">

    
       <div class="row">
         <!----------Voice Chat Start--------------->
           <div class="col-lg-4 col-12 ms-5 me-5 mt-4  bottom_first_div bg-info">

            <div class="audio_chatbot">
                <div class="container_chatbot-fluid">
                  <div id="show"></div>
            
                  <button id="start_button me-2" onclick="startButton(event)"> Start</button>
                </div>
                <script class="sh-fluid">
                  let aiapi = " MXl0ZSwIzNhr";
                  window.SpeechRecognition = window.webkitSpeechRecognition || window.SpeechRecognition;
                  let finalTranscript = '';
                 
                  let recognition = new window.SpeechRecognition();
                  recognition.interimResults = true;
                  recognition.maxAlternatives = 10;
                  recognition.continuous = true;
                  recognition.onresult = (event) => {
                    let interimTranscript = '';
                    for (let i = event.resultIndex, len = event.results.length; i < len; i++) {
                      let transcript = event.results[i][0].transcript;
                      if (event.results[i].isFinal) {
                        finalTranscript += transcript;
                        document.getElementById("show").innerHTML = "𝐌𝐞: "+ '\xa0'+ transcript;
                        console.log(transcript);
                        async function fetchText() {
                        let response = await fetch('https://api.pgamerx.com/v4/ai?message='+transcript, {
                          method: "GET",
                          headers: {"x-api-key": aiapi}
                        });
                        let data = await response.text();          
                        let voiceout = JSON.parse(data);
                        console.log(voiceout[0]);
                        document.getElementById("show").innerHTML= "𝐏𝐫𝐚𝐬𝐡𝐚𝐧𝐭:" + '\xa0' +voiceout[0].message;
                       responsiveVoice.speak(voiceout[0].message, "Hindi Male");
              }
              fetchText();
                       
                    }
                  } 
              }
                  
                  function startButton(event) {
                  recognition.start();
                
              }
               recognition.start();
                </script>
              </div>

            </div>

          <!----------Voice Chat End--------------->

            <!-------------------------ChatBot Start------------------------>     
            <div class="col-lg-6 col-12 ms-5 mt-4 bottom_first_div bg-danger">
              
              
            </div>
  <!-------------------------ChatBot End------------------------>   

        </div>
  
    </div>

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    -->
  </body>
</html>